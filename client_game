from main import *
from client import *
from game import *

# Calling my classes and creating instances of them
c = Client()
print(c)
g = Game(c)

# Main loop for the game
while True:

    # Checking if the quit button has been pressed
    for event in pygame.event.get():
        if event.type == pygame.QUIT:
            c.client.close()
            pygame.quit()
            sys.exit()

        # Moving the characters
        if event.type == pygame.KEYDOWN:
            if event.key == pygame.K_RIGHT:
                c.player1.x += 10
            if event.key == pygame.K_LEFT:
                c.player1.x -= 10
            if event.key == pygame.K_DOWN:
                c.player1.y += 10
            if event.key == pygame.K_UP:
                c.player1.y -= 10

    # Drawing the screen
    g.draw()
    c.player1.draw_player(g.screen)

    # Sending player coordinates to the server
    c.send_object(c.player1)

    # Updating the screen
    g.update_screen()

    # Clockspeed
    clock.tick(80)
